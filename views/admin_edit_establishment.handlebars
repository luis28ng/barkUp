<section>
  {{#if park}}
    <h2>Edit Park: {{park.parkName}}</h2>
    <form id="edit-establishment-form" action="/admin/editPark/{{park._id}}" method="post">
  {{else}}
    <h2>Edit Store: {{petStore.storeName}}</h2>
    <form id="edit-establishment-form" action="/admin/editStore/{{petStore._id}}" method="post">
  {{/if}}

  <label for="name">{{#if park}}Park{{else}}Store{{/if}} Name:</label>
  <input
    type="text"
    id="name"
    name="{{#if park}}parkName{{else}}storeName{{/if}}"
    value="{{#if park}}{{park.parkName}}{{else}}{{petStore.storeName}}{{/if}}"
    required
  />

  <fieldset>
    <legend>Location:</legend>
    <label for="address">Address:</label>
    <input
      type="text"
      id="address"
      name="location[address]"
      value="{{#if park}}{{park.location.address}}{{else}}{{petStore.location.address}}{{/if}}"
      required
    />

    <label for="city">City:</label>
    <input
      type="text"
      id="city"
      name="location[city]"
      value="{{#if park}}{{park.location.city}}{{else}}{{petStore.location.city}}{{/if}}"
      required
    />

    <label for="state">State:</label>
    <select id="state" name="location[state]" required value="{{#if park}}{{park.location.state}}{{else}}{{petStore.location.state}}{{/if}}">
      <option value="">Select a State</option>
      <option value="AL">Alabama</option>
      <option value="AK">Alaska</option>
      <option value="AZ">Arizona</option>
      <option value="AR">Arkansas</option>
      <option value="CA">California</option>
      <option value="CO">Colorado</option>
      <option value="CT">Connecticut</option>
      <option value="DE">Delaware</option>
      <option value="FL">Florida</option>
      <option value="GA">Georgia</option>
      <option value="HI">Hawaii</option>
      <option value="ID">Idaho</option>
      <option value="IL">Illinois</option>
      <option value="IN">Indiana</option>
      <option value="IA">Iowa</option>
      <option value="KS">Kansas</option>
      <option value="KY">Kentucky</option>
      <option value="LA">Louisiana</option>
      <option value="ME">Maine</option>
      <option value="MD">Maryland</option>
      <option value="MA">Massachusetts</option>
      <option value="MI">Michigan</option>
      <option value="MN">Minnesota</option>
      <option value="MS">Mississippi</option>
      <option value="MO">Missouri</option>
      <option value="MT">Montana</option>
      <option value="NE">Nebraska</option>
      <option value="NV">Nevada</option>
      <option value="NH">New Hampshire</option>
      <option value="NJ">New Jersey</option>
      <option value="NM">New Mexico</option>
      <option value="NY">New York</option>
      <option value="NC">North Carolina</option>
      <option value="ND">North Dakota</option>
      <option value="OH">Ohio</option>
      <option value="OK">Oklahoma</option>
      <option value="OR">Oregon</option>
      <option value="PA">Pennsylvania</option>
      <option value="RI">Rhode Island</option>
      <option value="SC">South Carolina</option>
      <option value="SD">South Dakota</option>
      <option value="TN">Tennessee</option>
      <option value="TX">Texas</option>
      <option value="UT">Utah</option>
      <option value="VT">Vermont</option>
      <option value="VA">Virginia</option>
      <option value="WA">Washington</option>
      <option value="WV">West Virginia</option>
      <option value="WI">Wisconsin</option>
      <option value="WY">Wyoming</option>
    </select>
    {{!-- <input
      type="text"
      id="state"
      name="location[state]"
      value="{{#if park}}{{park.location.state}}{{else}}{{petStore.location.state}}{{/if}}"
      required
    /> --}}

    <label for="zipCode">Zip Code:</label>
    <input
      type="text"
      id="zipCode"
      name="location[zipCode]"
      value="{{#if park}}{{park.location.zipCode}}{{else}}{{petStore.location.zipCode}}{{/if}}"
      required
    />
  </fieldset>

  {{#unless park}}
    <fieldset>
      <legend>Operation Hours:</legend>
      <label for="open">Open Time:</label>
      <input
        type="text"
        id="open"
        name="operationHours[open]"
        value="{{petStore.operationHours.open}}"
        required
      />

      <label for="close">Close Time:</label>
      <input
        type="text"
        id="close"
        name="operationHours[close]"
        value="{{petStore.operationHours.close}}"
        required
      />
    </fieldset>
  {{/unless}}

  <button type="submit">Update {{#if park}}Park{{else}}Store{{/if}}</button>
</form>

<!-- Section to Manage Reviews -->
<h3>Manage Reviews for {{#if park}}{{park.parkName}}{{else}}{{petStore.storeName}}{{/if}}</h3>
{{#if reviews.length}}
<ul>
  {{#each reviews}}
    <li>
      <span>{{this.reviewTitle}}</span>
      <a href="/review/{{this._id}}">Edit</a>
      <a href="/admin/deleteReview/{{this._id}}">Delete</a>
    </li>
  {{/each}}
</ul>
{{else}}
<p>No reviews yet.</p>
{{/if}}
</section>

<script src="https://rawgit.com/leizongmin/js-xss/master/dist/xss.js"></script>
<script src="../public/js/edit_establishment.js"></script>
