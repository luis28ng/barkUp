<head>
  <h1>
    This is your review
  </h1>
</head>

<body>
    {{#unless deletionSuccess}}
      <h2>Title: {{reviewTitle}}</h2>
      <p>Description: {{reviewDescription}}</p>
      <p>Rating: {{rating}}</p>
      <br>
      <form action="/review/{{reviewId}}" method="POST" id="deleteForm">
        <input type="hidden" name="_method" value="DELETE">
        <button type="submit" onclick="return confirm('Are you sure you want to delete this item?')">Delete</button>
      </form>
    <br>
    <button onclick="openUpdateModal()">Update</button>
    <br>
    <div id="updateModal" class="modal">
      <div class="modal-content">
        <button class="close-button" onclick="closeUpdateModal()">Close</button>
        <br>
        <form action="/review/{{reviewId}}" method="POST" id="updateForm">
          <input type="hidden" name="_method" value="PUT">
          <input type="text" id="updatedTitle" name="updatedTitle" placeholder="Updated Title" required>
          <textarea id="updatedDescription" name="updatedDescription" placeholder="Updated Description" required></textarea>
          <input type="number" id="updatedRating" name="updatedRating"  min="1" max="5" placeholder="Updated Rating" required>
          <button type="submit">Save</button>
        </form>
      </div>
    </div>
    {{/unless}}
    {{#if deletionSuccess}}
      <p style="color: green;">Deletion successful!</p>
    {{else}}
      {{#if deletionError}}
        <p style="color: red;">Deletion failed. Please try again.</p>
      {{/if}}
    {{/if}}

    <p id="error" class="error" hidden></p>

    <script src="../public/js/updateReview-csv.js"></script>

    <script>
        function openUpdateModal() {
          var modal = document.getElementById('updateModal');
          modal.style.display = 'block';
        };

        function closeUpdateModal() {
          var modal = document.getElementById('updateModal');
          modal.style.display = 'none';
        };
    </script>

</body>
